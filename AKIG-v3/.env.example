# AKIG v3.0 - Environment Variables Template
# CRITICAL: Copy to .env and fill with REAL values

# --- APPLICATION ---
NODE_ENV=production
PORT=4000
API_URL=https://api.akig.gn
WEB_URL=https://app.akig.gn
CORS_ORIGIN=https://app.akig.gn,https://admin.akig.gn

# --- DATABASE (PostgreSQL 16 + TimescaleDB) ---
DATABASE_URL=postgresql://akig:CHANGE_ME_STRONG_PASSWORD@postgres:5432/akig_v3?schema=public&sslmode=require
DB_POOL_MIN=5
DB_POOL_MAX=50
DB_TIMEOUT=30000

# --- REDIS CLUSTER ---
REDIS_URL=redis://:CHANGE_ME_REDIS_PASSWORD@redis-cluster:6379
REDIS_HOST=redis-cluster.akig.svc.cluster.local
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_ME_REDIS_PASSWORD
REDIS_DB=0
REDIS_TTL=300
REDIS_TLS=true

# --- SECURITY (JWT + Crypto) ---
# Generate: openssl rand -base64 64
JWT_SECRET=CHANGE_ME_WITH_256_BITS_SECRET_FROM_OPENSSL
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d
# Ed25519 keypair for JWT signing (more secure than RS256)
JWT_PRIVATE_KEY_PATH=/app/secrets/jwt-private.pem
JWT_PUBLIC_KEY_PATH=/app/secrets/jwt-public.pem
# Argon2id params (OWASP 2025 recommendations)
ARGON2_MEMORY=65536
ARGON2_ITERATIONS=3
ARGON2_PARALLELISM=4

# --- ML/AI SERVICE ---
ML_API_URL=http://ml-api:8000
# Generate: openssl rand -hex 32
ML_API_KEY=CHANGE_ME_ML_API_KEY_64_CHARS
ML_MODEL_PATH=/app/models
ML_CACHE_TTL=3600
TENSORFLOW_INTER_OP_PARALLELISM=8
TENSORFLOW_INTRA_OP_PARALLELISM=8

# --- FILE STORAGE (MinIO S3-compatible) ---
MINIO_ENDPOINT=minio.akig.svc.cluster.local:9000
MINIO_ACCESS_KEY=CHANGE_ME_MINIO_ACCESS_KEY
MINIO_SECRET_KEY=CHANGE_ME_MINIO_SECRET_KEY
MINIO_BUCKET=akig-documents
MINIO_USE_SSL=true
MINIO_REGION=eu-west-1

# --- ELASTICSEARCH ---
ELASTICSEARCH_NODE=https://elasticsearch:9200
ELASTICSEARCH_USERNAME=elastic
ELASTICSEARCH_PASSWORD=CHANGE_ME_ELASTIC_PASSWORD
ELASTICSEARCH_INDEX_PREFIX=akig-v3

# --- MONITORING (Prometheus + Grafana + Loki) ---
PROMETHEUS_PUSHGATEWAY=http://prometheus-pushgateway:9091
GRAFANA_API_KEY=CHANGE_ME_GRAFANA_API_KEY
LOKI_URL=http://loki:3100
SENTRY_DSN=https://CHANGE_ME@sentry.io/PROJECT_ID
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# --- EXTERNAL SERVICES ---
# Email (SendGrid)
SENDGRID_API_KEY=SG.CHANGE_ME
EMAIL_FROM=noreply@akig.gn
EMAIL_FROM_NAME=AKIG System

# SMS (Twilio for Orange Money/MTN notifications)
TWILIO_ACCOUNT_SID=CHANGE_ME
TWILIO_AUTH_TOKEN=CHANGE_ME
TWILIO_PHONE_NUMBER=+224XXXXXXXXX

# Payment Gateways
STRIPE_SECRET_KEY=sk_live_CHANGE_ME
STRIPE_WEBHOOK_SECRET=whsec_CHANGE_ME
ORANGE_MONEY_API_KEY=CHANGE_ME
MTN_MOBILE_MONEY_API_KEY=CHANGE_ME

# --- RATE LIMITING ---
RATE_LIMIT_GLOBAL_MAX=300
RATE_LIMIT_GLOBAL_WINDOW_MS=60000
RATE_LIMIT_USER_MAX=100
RATE_LIMIT_USER_WINDOW_MS=60000
RATE_LIMIT_AUTH_MAX=5
RATE_LIMIT_AUTH_WINDOW_MS=900000

# --- FEATURE FLAGS ---
FEATURE_AI_PREDICTIONS=true
FEATURE_BLOCKCHAIN=false
FEATURE_2FA=true
FEATURE_MULTI_TENANCY=true
FEATURE_ANALYTICS=true

# --- CDN & CACHING ---
CDN_URL=https://cdn.akig.gn
CDN_CLOUDFLARE_ZONE_ID=CHANGE_ME
CDN_CLOUDFLARE_API_TOKEN=CHANGE_ME

# --- BACKUP ---
BACKUP_S3_BUCKET=akig-backups
BACKUP_RETENTION_DAYS=90
BACKUP_CRON=0 2 * * *

# --- KUBERNETES (if deployed on K8s) ---
K8S_NAMESPACE=akig-production
K8S_SERVICE_ACCOUNT=akig-api
HELM_RELEASE_NAME=akig-v3
