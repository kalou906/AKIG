# ğŸš€ AKIG v3.0 - DÃ‰MARRAGE RAPIDE

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                           â•‘
â•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—     â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—            â•‘
â•‘  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•     â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â•šâ•â•â•â•â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ•—           â•‘
â•‘  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ–ˆâ•—    â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ•‘           â•‘
â•‘  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘    â•šâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â• â•šâ•â•â•â–ˆâ–ˆâ•—   â–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘           â•‘
â•‘  â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•     â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•—â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•           â•‘
â•‘  â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â•â•šâ•â• â•šâ•â•â•â•â•â•       â•šâ•â•â•â•  â•šâ•â•â•â•â•â• â•šâ•â• â•šâ•â•â•â•â•â•            â•‘
â•‘                                                                           â•‘
â•‘              SystÃ¨me Immobilier Hyper-Moderne & IA-Driven                â•‘
â•‘                                                                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

## ğŸ“‹ Ã‰TAPES D'INSTALLATION (5 minutes)

### âœ… Ã‰tape 1: VÃ©rifier PrÃ©requis

```powershell
# Node.js 22.11.0
node --version
# Doit afficher: v22.11.0 ou supÃ©rieur

# pnpm 9.14.2
pnpm --version
# Doit afficher: 9.14.2 ou supÃ©rieur

# Docker 27.3
docker --version
# Doit afficher: Docker version 27.3 ou supÃ©rieur

# Python 3.13
python --version
# Doit afficher: Python 3.13.0 ou supÃ©rieur
```

**Si manquant**:
```powershell
# Node.js via nvm-windows
nvm install 22.11.0
nvm use 22.11.0

# pnpm
npm install -g pnpm@9.14.2

# Docker Desktop
# TÃ©lÃ©charger depuis https://www.docker.com/products/docker-desktop

# Python 3.13
# TÃ©lÃ©charger depuis https://www.python.org/downloads/
```

---

### âœ… Ã‰tape 2: Installation One-Command

```powershell
cd c:\AKIG\AKIG-v3

# Unix/Linux/Mac
./scripts/install.sh

# Windows (Git Bash ou WSL)
bash scripts/install.sh

# Windows PowerShell (si bash non disponible)
# ExÃ©cuter manuellement les commandes ci-dessous
```

**Installation manuelle Windows**:
```powershell
# 1. Installer dÃ©pendances
pnpm install --frozen-lockfile

# 2. Copier environnement
Copy-Item .env.example .env

# 3. Build applications
pnpm build

# 4. Lancer Docker
docker compose build
docker compose up -d postgres redis

# Attendre 30 secondes pour PostgreSQL
Start-Sleep -Seconds 30

# 5. Migrations DB
cd apps\api
pnpm prisma migrate deploy
cd ..\..

# 6. Lancer tous services
docker compose up -d

# 7. VÃ©rifier santÃ©
Start-Sleep -Seconds 60
curl http://localhost:4000/health
curl http://localhost:3000
```

---

### âœ… Ã‰tape 3: VÃ©rifier Services

```powershell
# Statut containers
docker compose ps

# Devrait afficher 11 services "Up":
# âœ… postgres (healthy)
# âœ… redis (healthy)
# âœ… api-1, api-2, api-3 (healthy)
# âœ… web (healthy)
# âœ… ml-api (healthy)
# âœ… prometheus (healthy)
# âœ… grafana (healthy)
# âœ… loki (healthy)
# âœ… minio (healthy)

# Logs temps rÃ©el
docker compose logs -f api web ml-api
```

---

### âœ… Ã‰tape 4: AccÃ©der Applications

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       ğŸŒ URLS SERVICES                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  Frontend (Next.js)                                                 â”‚
â”‚  â†’ http://localhost:3000                                            â”‚
â”‚                                                                     â”‚
â”‚  Backend API (NestJS)                                               â”‚
â”‚  â†’ http://localhost:4000                                            â”‚
â”‚                                                                     â”‚
â”‚  API Documentation (Swagger)                                        â”‚
â”‚  â†’ http://localhost:4000/api/docs                                   â”‚
â”‚                                                                     â”‚
â”‚  ML/IA Service (FastAPI)                                            â”‚
â”‚  â†’ http://localhost:8000/docs                                       â”‚
â”‚                                                                     â”‚
â”‚  Grafana (Monitoring)                                               â”‚
â”‚  â†’ http://localhost:3001                                            â”‚
â”‚  ğŸ“§ admin / ğŸ”‘ admin                                                â”‚
â”‚                                                                     â”‚
â”‚  Prometheus (Metrics)                                               â”‚
â”‚  â†’ http://localhost:9090                                            â”‚
â”‚                                                                     â”‚
â”‚  MinIO Console (S3 Storage)                                         â”‚
â”‚  â†’ http://localhost:9001                                            â”‚
â”‚  ğŸ“§ minioadmin / ğŸ”‘ minioadmin                                      â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### âœ… Ã‰tape 5: Tester API

**Swagger UI** (recommandÃ©):
1. Ouvrir http://localhost:4000/api/docs
2. Cliquer "Authorize"
3. Tester endpoints `/auth/register`, `/auth/login`

**cURL**:
```powershell
# Health check
curl http://localhost:4000/health

# Register user
curl -X POST http://localhost:4000/api/v1/auth/register `
  -H "Content-Type: application/json" `
  -d '{
    "email": "admin@akig.gn",
    "password": "SecurePass123!",
    "name": "Admin AKIG",
    "role": "ADMIN"
  }'

# Login
curl -X POST http://localhost:4000/api/v1/auth/login `
  -H "Content-Type: application/json" `
  -d '{
    "email": "admin@akig.gn",
    "password": "SecurePass123!"
  }'

# Copier le "accessToken" reÃ§u

# Test authenticated endpoint
$token = "votre_access_token_ici"
curl -H "Authorization: Bearer $token" http://localhost:4000/api/v1/users/me
```

---

## ğŸ”§ Commandes Utiles

### DÃ©veloppement

```powershell
# DÃ©marrer en mode dev (hot reload)
pnpm dev

# Build production
pnpm build

# Tests
pnpm test

# Linter
pnpm lint

# Format code
pnpm format
```

### Docker

```powershell
# DÃ©marrer services
docker compose up -d

# ArrÃªter services
docker compose down

# Rebuild aprÃ¨s changement code
docker compose build api web ml-api
docker compose up -d

# Logs d'un service
docker compose logs -f api

# Shell dans container
docker compose exec api sh
docker compose exec postgres psql -U akig -d akig_v3

# Nettoyer volumes (âš ï¸ perte donnÃ©es)
docker compose down -v
```

### Base de DonnÃ©es

```powershell
# Migrations Prisma
cd apps\api
pnpm prisma migrate dev --name migration_name
pnpm prisma migrate deploy  # Production

# Prisma Studio (GUI DB)
pnpm prisma studio
# Ouvre http://localhost:5555

# Seed data (si script existe)
pnpm prisma db seed

# Reset DB (âš ï¸ perte donnÃ©es)
pnpm prisma migrate reset
```

### Monitoring

```powershell
# MÃ©triques Prometheus
curl http://localhost:4000/metrics

# Dashboard Grafana
# â†’ http://localhost:3001
# Data Sources â†’ Prometheus (http://prometheus:9090)
# Import dashboard ID: 11159 (Node.js)

# Logs Loki
curl http://localhost:3100/ready
```

---

## ğŸ› ï¸ DÃ©pannage

### ProblÃ¨me: Containers ne dÃ©marrent pas

```powershell
# VÃ©rifier ports occupÃ©s
netstat -ano | findstr :3000
netstat -ano | findstr :4000
netstat -ano | findstr :5432
netstat -ano | findstr :6379

# Tuer process occupant port (remplacer PID)
taskkill /PID 12345 /F

# Rebuild complet
docker compose down -v
docker compose build --no-cache
docker compose up -d
```

### ProblÃ¨me: Migrations Prisma Ã©chouent

```powershell
# VÃ©rifier PostgreSQL accessible
docker compose ps postgres
# Doit Ãªtre "Up (healthy)"

# Logs PostgreSQL
docker compose logs postgres

# Connexion manuelle
docker compose exec postgres psql -U akig -d akig_v3
# \dt pour lister tables
# \q pour quitter

# Reset migrations
cd apps\api
Remove-Item -Recurse -Force prisma\migrations
pnpm prisma migrate dev --name init
```

### ProblÃ¨me: Frontend ne charge pas

```powershell
# VÃ©rifier build Next.js
cd apps\web
pnpm build

# Logs container
docker compose logs web

# Rebuild standalone
docker compose build web --no-cache
docker compose up -d web
```

### ProblÃ¨me: ML API erreurs 500

```powershell
# VÃ©rifier modÃ¨le XGBoost chargÃ©
docker compose logs ml-api | findstr "model"

# CrÃ©er dummy model si manquant
docker compose exec ml-api python -c "
import pickle
import xgboost as xgb
model = xgb.XGBClassifier()
with open('/app/models/tenant_risk_xgboost_v3.pkl', 'wb') as f:
    pickle.dump(model, f)
"

# Restart ML API
docker compose restart ml-api
```

---

## ğŸ“š Ressources

### Documentation
- [README Principal](../README.md)
- [Guide Migration v2â†’v3](./MIGRATION_GUIDE.md)
- [Index Documentation](./INDEX.md)
- [Status Livraison](../00_LIVRAISON_COMPLETE_STATUS.md)

### Liens Externes
- [NestJS Docs](https://docs.nestjs.com)
- [Next.js Docs](https://nextjs.org/docs)
- [Prisma Docs](https://www.prisma.io/docs)
- [FastAPI Docs](https://fastapi.tiangolo.com)

### Support
- ğŸ“§ support@akig.gn
- ğŸ’¬ [Slack Community](https://akig-community.slack.com)
- ğŸ› [GitHub Issues](https://github.com/akig-corp/akig-v3/issues)

---

## ğŸ‰ FÃ©licitations!

Votre systÃ¨me AKIG v3.0 est maintenant opÃ©rationnel!

**Prochaines Ã©tapes**:
1. âœ… Explorer le dashboard â†’ http://localhost:3000
2. âœ… Tester API Swagger â†’ http://localhost:4000/api/docs
3. âœ… Configurer Grafana dashboards â†’ http://localhost:3001
4. âœ… Lire [Guide Migration](./MIGRATION_GUIDE.md) si migration depuis v2
5. âœ… DÃ©velopper nouvelles pages frontend (tenants, properties, contracts)

---

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                           â•‘
â•‘                    ğŸŠ SYSTÃˆME PRÃŠT POUR PRODUCTION ğŸŠ                    â•‘
â•‘                                                                           â•‘
â•‘              Profitez de votre infrastructure hyper-moderne!              â•‘
â•‘                                                                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```
