#!/bin/bash
###############################################################################
# Configuration du Plan de Récupération d'Activité (PRA)
# ops/pra/.env.example
#
# Copier ce fichier en .env et configurer les variables d'environnement
###############################################################################

# ============================================================================
# CONFIGURATION POSTGRESQL
# ============================================================================

# Serveur PostgreSQL (production)
export PG_HOST=akig-db.example.com
export PG_PORT=5432
export PG_USER=akig_backup
export PG_PASSWORD=secure_password_here
export PG_DATABASE=akig

# Serveur PostgreSQL (restauration)
export PG_RESTORE_HOST=akig-restore-db.example.com
export PG_RESTORE_PORT=5432
export PG_RESTORE_USER=akig_restore
export PG_RESTORE_PASSWORD=restore_password_here

# ============================================================================
# CONFIGURATION SAUVEGARDE
# ============================================================================

# Répertoire local de sauvegarde
export BACKUP_DIR=/backups/akig

# Rétention des sauvegardes (jours)
export BACKUP_RETENTION_DAYS=30

# Archive des anciennes sauvegardes
export ARCHIVE_DIR=/backups/akig/archive

# URL serveur distant pour backups (facultatif)
export REMOTE_BACKUP_URL=

# ============================================================================
# CONFIGURATION APPLICATION
# ============================================================================

# URL de l'application (production)
export APP_URL=https://akig.example.com

# URL de l'application (restauration)
export APP_RESTORE_URL=https://akig-restore.example.com

# ============================================================================
# CONFIGURATION ALERTES
# ============================================================================

# Email pour les alertes critiques
export ALERT_EMAIL=ops@example.com

# Webhook Slack pour les notifications
export SLACK_WEBHOOK=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# ============================================================================
# CONFIGURATION RESTAURATION
# ============================================================================

# Base de données de restauration
export RESTORE_DB=akig_restore

# Timeout restauration (secondes)
export RESTORE_TIMEOUT=3600

# Nombre de tentatives health check
export HEALTH_CHECK_RETRIES=5

# Intervalle entre health checks (secondes)
export HEALTH_CHECK_INTERVAL=10

# ============================================================================
# CONFIGURATION MONITORING
# ============================================================================

# Intervalle de vérification santé (secondes)
export CHECK_INTERVAL=300

# RPO (Recovery Point Objective) - en heures
export RPO_HOURS=1

# RTO (Recovery Time Objective) - en minutes
export RTO_MINUTES=30
