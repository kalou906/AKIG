# ================================================
# AKIG BACKEND - PRODUCTION CONFIGURATION
# ================================================
# Copy this to .env.production and update values
# DO NOT commit this file to version control!

# ============ APPLICATION ============
NODE_ENV=production
PORT=4000
API_VERSION=1.0.0

# ============ DATABASE - UPDATE THESE ============
# Example: postgresql://akig:SecurePassword123@prod-db.example.com:5432/akig_production
DATABASE_URL=postgresql://akig:CHANGE_ME_SECURE_PASSWORD@your-db-host.com:5432/akig_production
DB_POOL_MIN=5
DB_POOL_MAX=20
DB_TIMEOUT=30000

# ============ AUTHENTICATION - GENERATE NEW SECRET ============
# Generate with: pwsh -Command "[Convert]::ToBase64String([System.Text.Encoding]::UTF8.GetBytes((1..64 | % { 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'[(Get-Random -Max 62)] } -join '')))"
JWT_SECRET=your_very_long_secure_random_string_minimum_32_characters_generate_new_one
JWT_EXPIRY=7d

# ============ LOGGING ============
LOG_LEVEL=info
LOG_FILE_ENABLED=true

# ============ CORS & SECURITY - UPDATE DOMAIN ============
# Example: https://yourdomain.com
CORS_ORIGIN=https://yourdomain.com

# ============ FEATURES ============
FEATURE_FLAGS=payments,sms,dashboard
FEATURE_CSV_IMPORT=true
FEATURE_PDF_EXPORT=true
FEATURE_AUDIT_LOGGING=true

# ============ TIMEZONE ============
TZ=UTC

# ============ REDIS (Optional) ============
REDIS_ENABLED=false
REDIS_HOST=redis
REDIS_PORT=6379
# REDIS_PASSWORD=your_redis_password (if needed)

# ============ SMTP (Optional) ============
SMTP_ENABLED=false
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=your-app-password
# SMTP_FROM=noreply@akig.com

# ============ SECURITY RECOMMENDATIONS ============
# 1. Use HTTPS only (set CORS_ORIGIN to https://)
# 2. Enable SSL/TLS certificates
# 3. Use strong JWT_SECRET (minimum 32 characters)
# 4. Update DATABASE_URL with production credentials
# 5. Enable audit logging for compliance
# 6. Monitor error logs regularly
# 7. Set up database backups
# 8. Use environment variables, not hardcoded values
# 9. Restrict CORS to specific domain(s)
# 10. Keep dependencies updated

# ============ DEPLOYMENT CHECKLIST ============
# [ ] DATABASE_URL verified and tested
# [ ] JWT_SECRET changed and secured
# [ ] CORS_ORIGIN set to production domain
# [ ] LOG_LEVEL set to info (not debug)
# [ ] FEATURE_* flags reviewed
# [ ] Backend health check responds on /api/health
# [ ] Frontend built with npm run build
# [ ] All endpoints tested in production
# [ ] Error logs monitored
# [ ] Database backups configured
# [ ] SSL/TLS certificates installed
